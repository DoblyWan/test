<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <title>工程概况与缺陷等级评定</title>
    <style>
        @page {
            size: A4;
            margin: 0;
        }



        body {
            margin: 0;
            padding: 0;
            background-color: rgb(46, 52, 54);
            font-family: "SimSun", serif;
            font-size: 12pt;
            padding: 40px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }


        /* body {
            background: linear-gradient(135deg, #1a2980, #26d0ce);
            color: #333;
            min-height: 100vh;
            padding: 40px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        } */

        .container {
            position: relative;
            max-width: 1200px;
            width: 22cm;
            background: rgba(255, 255, 255, 0.93);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            padding: 30px;
            padding-top: 50px;
            animation: fadeIn 1s ease-out;
        }

        .page {
            width: 21cm;
            height: 29.7cm;
            box-sizing: border-box;
            padding: 2cm;
            margin: 0 auto;
            position: relative;
            box-shadow: 0 0 0 1px black inset;
            page-break-after: always;
        }

        .corner {
            width: 20px;
            height: 20px;
            position: absolute;
            box-sizing: border-box;
            transform: rotate(180deg);
        }

        .top-left {
            top: 1.5cm;
            left: 1.5cm;
            border-left: 2px solid black;
            border-top: 2px solid black;
        }

        .top-right {
            top: 1.5cm;
            right: 1.5cm;
            border-right: 2px solid black;
            border-top: 2px solid black;
        }

        .bottom-left {
            bottom: 1.5cm;
            left: 1.5cm;
            border-left: 2px solid black;
            border-bottom: 2px solid black;
        }

        .bottom-right {
            bottom: 1.5cm;
            right: 1.5cm;
            border-right: 2px solid black;
            border-bottom: 2px solid black;
        }

        h2,
        h3,
        h4 {
            margin: 16px 0 10px 0;
            font-weight: bold;
        }

        h2 {
            font-family: "Microsoft YaHei", sans-serif;
            font-size: 16pt;
            text-align: center;
        }

        h3 {
            font-family: "Microsoft YaHei", sans-serif;
            font-size: 12pt;
            text-align: left;
        }

        h4 {
            font-family: "DengXian", sans-serif;
            font-size: 12pt;
            text-align: center;
            font-weight: normal;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            table-layout: fixed;
            margin-bottom: 20px;
        }

        /* 第二页工程概况表格：较大行高 */

        .table-large td,
        .table-large th {
            height: 32px;
            font-size: 10.5pt;
            text-align: center;
            vertical-align: middle;
            border: 1px solid black;
            padding: 4px;
            word-wrap: break-word;
        }

        .table-large .row-19 td {
            height: 110px !important;
        }

        /* 第三页缺陷等级表格：紧凑行高 */

        .table-compact td,
        .table-compact th {
            height: 22px;
            font-size: 10.5pt;
            text-align: center;
            vertical-align: middle;
            border: 1px solid black;
            padding: 4px;
            word-wrap: break-word;
        }

        th,
        .gray-bg,
        .merge-title {
            background-color: #e6e6e6;
            font-weight: bold;
        }

        .merge-title {
            font-size: 14pt;
            height: 28px;
        }

        .sign-line {
            margin-top: 10px;
            text-align: center;
            font-family: "DengXian", "SimSun", serif;
            font-size: 12pt;
        }

        .icon {
            margin-top: 20px;
            width: 150px;
            height: 150px;
        }

        .icon img {
            width: 100%;
            height: 100%;
        }

        h1 {
            text-align: center;
            font-size: 52px;
        }

        .title {
            margin-bottom: 200px;
        }

        .info p {
            font-size: 18px;
        }

        .prodate {
            position: absolute;
            width: 642.5px;
            bottom: 2.5cm;
            text-align: center;
            font-size: 20px;
            font-weight: 700;
        }

        table.model td {
            padding-top: 10px;
            padding-bottom: 10px;
        }

        .section-title {
            font-weight: bold;
            font-size: 1.1em;
        }

        .note {
            font-size: 12px;
            text-align: center;
        }

        p.basis_title {
            text-align: center;
        }

        .tool {
            position: fixed;
            transform: translateX(-50%) translateX(14cm);
            background: rgba(255, 255, 255, 0.93);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            width: 50px;
            height: 150px;
            /* padding: 12px; */
        }


        .function {
            position: absolute;
            width: 24px;
            height: 24px;
            border: none;
            background-color: transparent;

        }

        .no-print {
            top: 10px;
            left: 13px;
            background-image: url(./images/printer.png);
        }

        .no-reload {
            top: 44px;
            left: 13px;
            background-image: url(./images/reload.png);
            background-repeat: no-repeat;
            background-size: 90%;
        }

        .no-save {
            top: 78px;
            left: 13px;
            background-image: url(./images/save.png);
            background-repeat: no-repeat;
            background-size: 105%;
        }

        .no-return {
            top: 112px;
            left: 13px;
            background-image: url(./images/return.png);
            background-repeat: no-repeat;
            background-size: 100%;
        }

        button:hover {
            cursor: pointer;
        }

        @media print {
            body * {
                visibility: hidden;
                /* 隐藏所有内容 */
            }

            .container,
            .container * {
                visibility: visible;
                /* 显示 container 内所有内容 */
            }

            .container {
                position: absolute;
                left: 0;
                top: 0;
                padding: 0;
                width: 100%;
            }

            .tool {
                display: none !important;
                /* 确保工具栏不打印 */
            }
        }
    </style>

    <script src="qrc:///qtwebchannel/qwebchannel.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // 初始化 WebChannel
            new QWebChannel(qt.webChannelTransport, function (channel) {
                window.qt = channel.objects.qt;
            });
        });

        function qtPrint() {
            if (window.qt && window.qt.print) {
                qt.print(); // 调用 Qt 打印
            } else {
                window.print(); // 回退到浏览器打印
                console.log("Using browser print instead of Qt print");
            }
        }
    </script>
</head>

<body>


    <div class="tool">
        <button onclick="qtPrint()" class="function no-print"></button>
        <button onclick="location.reload()" class="function no-reload"></button>
        <button onclick="location.reload()" class="function no-save"></button>
        <button onclick="window.scrollTo({ top: 0, behavior: 'smooth' })" class="function no-return"></button>

    </div>

    <div class="container">
        <!-- 第一页 -->
        <div class="page">
            <div class="corner top-left"></div>
            <div class="corner top-right"></div>
            <div class="corner bottom-left"></div>
            <div class="corner bottom-right"></div>

            <div class="icon">
                <img src="./images/logo.png">
            </div>

            <div class="title">
                <h1>
                    水下缺陷数据采集系统报告
                </h1>
            </div>

            <div class="info">
                <p>
                    工程名称：DB-20220908111518712-34051
                </p>

                <p>
                    检测单位：xx公司
                </p>
            </div>

            <footer class="prodate">
                2025-07-02
            </footer>
        </div>



        <!-- 第二张页：工程概况 -->
        <div class="page">
            <div class="corner top-left"></div>
            <div class="corner top-right"></div>
            <div class="corner bottom-left"></div>
            <div class="corner bottom-right"></div>

            <h2>水下缺陷数据采集、处理系统报告</h2>

            <table class="table-large">
                <tr>
                    <td colspan="6" class="merge-title">工程概况一览表</td>
                </tr>
                <tr>
                    <td class="gray-bg">坝区名称</td>
                    <td colspan="5">测试</td>
                </tr>
                <tr>
                    <td class="gray-bg">坝区地点</td>
                    <td colspan="5">平康路测试</td>
                </tr>

                <tr>
                    <td class="gray-bg" rowspan="3">水库概况</td>
                    <td colspan="5" rowspan="3" style="height: 75px;">
                        此部分简要描述检测项目的背景、检测的目的和重要性。明确水库坝区检测的总体目标，例如评估坝体结构完整性、识别潜在安全隐患以及确保大坝的长期安全运行等。

                    </td>

                </tr>

                <tr></tr>
                <tr></tr>


                <tr>
                    <td class="gray-bg">检测负责人</td>
                    <td colspan="2">xxx</td>
                    <td class="gray-bg">检测日期</td>
                    <td colspan="2">2025-07-02</td>
                </tr>
                <tr>
                    <td class="gray-bg">检测时间段</td>
                    <td colspan="2"></td>
                    <td class="gray-bg">环境条件</td>
                    <td colspan="2">（如水深、流速、能见度、水质、天气情况等</td>
                </tr>
                <tr>
                    <td class="gray-bg">检测方式</td>
                    <td colspan="2">在线检测/离线检测</td>
                    <td class="gray-bg">检测时长</td>
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td class="gray-bg">检测深度(m)</td>
                    <td colspan="2"></td>
                    <td class="gray-bg">检测距离</td>
                    <td colspan="2"></td>
                </tr>

                <tr>
                    <td class="gray-bg" colspan="1">检测区域</td>
                    <td colspan="5">平康路实验室水库</td>
                </tr>

                <tr>
                    <td class="gray-bg" colspan="1">检测对象</td>
                    <td colspan="5"> </td>
                </tr>

                <tr>
                    <td class="gray-bg">坝体类型</td>
                    <td colspan="2">重力坝、土石坝、拱坝等</td>
                    <td class="gray-bg">坝体高度(m)</td>
                    <td colspan="2"></td>
                </tr>

                <tr>
                    <td class="gray-bg">坝体材料</td>
                    <td colspan="2">混凝土、石料、沥青等</td>
                    <td class="gray-bg">坝体运行时间</td>
                    <td colspan="2"></td>
                </tr>

                <tr>
                    <td class="gray-bg" rowspan="3">检测技术与设备</td>
                    <td colspan="2">检测仪器设备名称</td>
                    <td colspan="3">声纳检测仪、激光扫描仪、ROV（水下机器人）、高清摄像头</td>
                </tr>

                <tr>
                    <td colspan="2">设备移动方式</td>
                    <td colspan="3">自主航行、遥控操作</td>
                </tr>

                <tr>
                    <td colspan="2">检测方法</td>
                    <td colspan="3">视频检测/声纳检测/</td>
                </tr>

                <tr>
                    <td colspan="6" class="gray-bg">备注</td>
                </tr>
                <tr class="row-19">
                    <td colspan="6"></td>
                </tr>


                <!-- <tr>
                <td class="gray-bg" rowspan="5">采用仪器设备和技术方法</td>
                <td colspan="2">检测仪器设备</td>
                <td colspan="3">双螺旋推进器(管狼一号)</td>
            </tr>

            <tr>
                <td colspan="2">设备移动方式</td>
                <td colspan="3">爬行器自走</td>
            </tr>
            <tr>
                <td colspan="2">管道封堵方法</td>
                <td colspan="3">气囊</td>
            </tr>
            <tr>
                <td colspan="2">临时排水方法</td>
                <td colspan="3">水泵临时抽水</td>
            </tr>
            <tr>
                <td colspan="2">管道清洗方法</td>
                <td colspan="3">高压水枪</td>
            </tr> -->

                <!-- <tr>
                <td class="gray-bg" rowspan="5">采用仪器设备和技术方法</td>
                <td colspan="2">检测仪器设备</td>
                <td colspan="3">双螺旋推进器(管狼一号)</td>
            </tr>
            <tr>
                <td colspan="2">设备移动方式</td>
                <td colspan="3">爬行器自走</td>
            </tr>
            <tr>
                <td colspan="2">管道封堵方法</td>
                <td colspan="3">气囊</td>
            </tr>
            <tr>
                <td colspan="2">临时排水方法</td>
                <td colspan="3">水泵临时抽水</td>
            </tr>
            <tr>
                <td colspan="2">管道清洗方法</td>
                <td colspan="3">高压水枪</td>
            </tr>
            <tr>
                <td colspan="6" class="merge-title">主要工程量表</td>
            </tr>
            <tr>
                <td class="gray-bg">序号</td>
                <td class="gray-bg">名称</td>
                <td class="gray-bg">管径(mm)</td>
                <td class="gray-bg">管段长度(m)</td>
                <td class="gray-bg">检测长度(m)</td>
                <td class="gray-bg">备注</td>
            </tr>
            <tr>
                <td>1</td>
                <td>污水管道(pvc管)</td>
                <td>400</td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td>2</td>
                <td>污水管道(pvc管)</td>
                <td>400</td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td>3</td>
                <td>污水管道(混凝土管)</td>
                <td>600</td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td colspan="6" class="gray-bg">检测结论</td>
            </tr>
            <tr class="row-19">
                <td colspan="6"></td>
            </tr> -->
            </table>


            </table>

            <div class="sign-line">
                批准：&emsp;&emsp;&emsp;&emsp; 审核：&emsp;&emsp;&emsp;&emsp; 编制：&emsp;&emsp;&emsp;&emsp; 检测：
            </div>
        </div>


        <!-- 三 -->
        <div class="page">
            <div class="corner top-left"></div>
            <div class="corner top-right"></div>
            <div class="corner bottom-left"></div>
            <div class="corner bottom-right"></div>
            <h2>附件一、检测依据说明</h2>

            <div class="section">
                <div class="section-title">1 - 混凝土裂缝</div>
                <p class="basis_title">水下混凝土表面裂缝检测</p>

                <table class="table-large">
                    <thead>
                        <tr>
                            <th rowspan="2">输入</th>
                            <th colspan="2">识别内容</th>
                            <th rowspan="2">分类等级</th>
                            <th rowspan="2">是否处理</th>
                        </tr>
                        <tr>
                            <th>缝宽</th>
                            <th>缝深</th>
                        </tr>
                    </thead>

                    <tbody>
                        <tr>
                            <td rowspan="4">图像或视频</td>
                            <td>&delta; ≤ 0.2mm</td>
                            <td>h ≤ 300mm</td>
                            <td>A类（轻微宽细微裂缝）</td>
                            <td>是</td>
                        </tr>

                        <tr>
                            <td>0.2mm ≤ &delta; ≤ 0.3mm</td>
                            <td>300mm < h ≤ 1000mm</td>
                            <td>B类（表面层次裂缝）</td>
                            <td>是</td>
                        </tr>

                        <tr>
                            <td>0.3mm ≤ &delta; ≤ 0.5mm</td>
                            <td>1000mm < h ≤ 5000mm</td>
                            <td>C类（深层裂缝）</td>
                            <td>是</td>
                        </tr>

                        <tr>
                            <td>&delta; ＞ 0.5mm</td>
                            <td>h > 5000mm</td>
                            <td>D类（贯穿性裂缝）</td>
                            <td>是</td>
                        </tr>
                    </tbody>
                </table>
                <p class="note">（参考规范 DL/T 5251-2010 水工混凝土建筑物缺陷检测和评估技术规程）</p>
            </div>

            <div class="section">
                <div class="section-title">2 - 混凝土腐蚀和空蚀</div>
                <p>水下混凝土表面腐蚀和空蚀检测</p>

                <table class="table-large">
                    <thead>
                        <tr>
                            <th>输入</th>
                            <th>识别内容</th>
                            <th>分类</th>
                            <th>是否处理</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td rowspan="4">图像或视频</td>
                            <td>局部混凝土粗糙和外露</td>
                            <td>A类</td>
                            <td>不处理</td>
                        </tr>

                        <tr>
                            <td>混凝土局部强度和硬度较大，表面轻微粗糙、有粉末不明显脱落（未露筋）</td>
                            <td>B类</td>
                            <td>修补处理</td>
                        </tr>

                        <tr>
                            <td>混凝土结构外露，形成大面积腐蚀、剥落破坏</td>
                            <td>C类</td>
                            <td>修补处理，并将结构缺陷上报</td>
                        </tr>
                    </tbody>
                </table>
                <p class="note">（参考规范 DL/T 5251-2010 水工混凝土建筑物缺陷检测和评估技术规程）</p>
            </div>

            <div class="section">
                <div class="section-title">3 - 混凝土渗漏</div>
                <p>水下混凝土渗漏检测</p>

                <table class="table-large">
                    <thead>
                        <tr>
                            <th>输入</th>
                            <th>识别内容</th>
                            <th>渗漏量</th>
                            <th>分类等级</th>
                            <th>是否处理</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td rowspan="3">图像或视频</td>
                            <td>渗漏点</td>
                            <td>轻微的湿痕</td>
                            <td>A类（轻微渗漏，不影响结构安全）</td>
                            <td>否</td>
                        </tr>
                        <tr>
                            <td>局部有滴水现象</td>
                            <td>可见水珠</td>
                            <td>B类（一般渗漏，建议处理）</td>
                            <td>是</td>
                        </tr>
                        <tr>
                            <td>存在流水状</td>
                            <td>连续水流</td>
                            <td>C类（严重渗漏，必须处理）</td>
                            <td>是</td>
                        </tr>
                    </tbody>
                </table>
                <p class="note">（参考规范 DL/T 5251-2010 水工混凝土建筑物缺陷检测和评估技术规程）</p>
            </div>
        </div>

        <!-- 第四页模板 -->
        <div class="page">
            <div class="corner top-left"></div>
            <div class="corner top-right"></div>
            <div class="corner bottom-left"></div>
            <div class="corner bottom-right"></div>

            <div style="height:25px"></div>
            <table class="table-large model">
                <tr>
                    <td>录像文件</td>
                    <td colspan="2">underwater_test1</td>
                    <td>起始标记</td>
                    <td>underwater</td>
                    <td>终止标记</td>
                    <td>test1</td>
                </tr>
                <tr>
                    <td>钢体类型</td>
                    <td colspan="2">重力坝</td>
                    <td>坝体材料</td>
                    <td>混凝土</td>
                    <td>能见度</td>
                    <td></td>
                </tr>
                <tr>
                    <td>检测地点</td>
                    <td colspan="2">平康路实验室</td>
                    <td>检测设备</td>
                    <td>机器人</td>
                    <td>水深位置</td>
                    <td>机器人</td>
                </tr>
                <tr>
                    <td>检测负责人</td>
                    <td colspan="2">XXX</td>
                    <td>检测日期</td>
                    <td colspan="3">2025/07/02<br>10:51:23</td>
                </tr>
                <tr>
                    <td colspan="4">缺陷尺寸</td>
                    <!-- <td>缺陷位置</td>
                    <td>缺陷尺寸</td> -->
                    <!-- <td>等级</td> -->
                    <td>状况描述</td>
                    <td colspan="2">照片编号或说明</td>
                </tr>
                <tr>
                    <!-- <td>crack裂缝</td> -->
                    <td colspan="4" style='font-family: "Times New Roman", Times, serif;'>Length:390.9mm Width:120.5mm
                        <br> Area:10980.9mm² Depth:462.3mm
                    </td>
                    <!-- <td></td> -->
                    <!-- <td></td> -->
                    <td></td>
                    <td colspan="2">1_0.jpg</td>
                </tr>
                <tr>
                    <td>备注</td>
                    <td colspan="6" style='font-family: "Times New Roman", Times, serif;'>Position:(-386, -282, 462)mm
                    </td>
                </tr>

                <tr>
                    <td colspan="7">
                        <div style="height:460px; padding:20px">
                            <img src="./images/result.png" style="width: 600px;height:460px" alt="">
                        </div>
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <!-- <script>
        function qtPrint() {
            // 检查是否在Qt环境中
            if (typeof qt !== 'undefined' && qt.print) {
                qt.print(); // 调用Qt提供的打印接口
            } else {
                window.print(); // 普通浏览器的打印
            }
        }
    </script> -->

</body>

</html>